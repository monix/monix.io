<!DOCTYPE html>
<html lang="en-us">

  <head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  
  
  <title>Monix: Version 3.0.0-RC4</title>

  <link rel="canonical" href="https://monix.io/blog/2019/08/25/monix-v3.0.0-RC4.html" />

  <!-- Twitter Cards -->
  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:image:src" content="https://monix.io/public/images/monix-logo-rect.png">
  <meta name="twitter:site" content="@monix" />  
  <meta name="twitter:creator" content="@monix" />  
  <meta name="twitter:title" content="Monix: Version 3.0.0-RC4" />
  <meta name="twitter:description" content="Final release before 3.0.0" />
  <meta name="twitter:url" content="https://monix.io/blog/2019/08/25/monix-v3.0.0-RC4.html">
  <!-- Facebook Open-Graph -->
  <meta property="fb:app_id" content="2160100887367418" />

  <meta content="Monix" property="og:site_name">
  <meta content="Monix: Version 3.0.0-RC4" property="og:title">
  <meta content="Final release before 3.0.0" property="og:description">
  <meta content="https://monix.io/blog/2019/08/25/monix-v3.0.0-RC4.html" property="og:url">
  <meta content="2019-08-25T00:00:00+00:00" property="article:published_time">
  <meta content="2019-08-26T20:58:43+00:00" property="article:modified_time">
    
  <meta content="article" property="og:type">
  <meta property="og:image" content="https://monix.io/public/images/monix-logo.png" />
  <meta property="og:image:secure_url" content="https://monix.io/public/images/monix-logo.png" />
  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/all.css?1595312382854014511">
  <!--[if lt IE 9]>
  <link rel="stylesheet" href="/public/css/forkme.ie.css?1595312382854014511">
  <![endif]-->

  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Web App Manifest, see: http://manifest.sysapps.org/ -->
  <link rel="manifest" href="/manifest.json">
  <!-- Icons -->
  <link rel="icon" sizes="48x48" href="/public/icons/icon-48x48.png">
  <link rel="icon" sizes="72x72" href="/public/icons/icon-72x72.png">
  <link rel="icon" sizes="96x96" href="/public/icons/icon-96x96.png">
  <link rel="icon" sizes="144x144" href="/public/icons/icon-144x144.png">
  <link rel="icon" sizes="192x192" href="/public/icons/icon-192x192.png">
  <link rel="icon" sizes="240x240" href="/public/icons/icon-240x240.png">
  <link rel="icon" sizes="384x384" href="/public/icons/icon-384x384.png">
  <!-- Mobile Safari / iOS Icons -->
  <link rel="apple-touch-icon" sizes="48x48" href="/public/icons/icon-48x48.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/public/icons/icon-72x72.png">
  <link rel="apple-touch-icon" sizes="96x96" href="/public/icons/icon-96x96.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/public/icons/icon-144x144.png">
  <link rel="apple-touch-icon" sizes="192x192" href="/public/icons/icon-192x192.png">
  <link rel="apple-touch-icon" sizes="240x240" href="/public/icons/icon-240x240.png">
  <link rel="apple-touch-icon" sizes="384x384" href="/public/icons/icon-384x384.png">
  <!-- Standard Favicon -->
  <link rel="shortcut icon" href="/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/atom+xml" title="Feed" href="/blog/atom.xml">
</head>


  <body class="monix layout">
    <div class="wrapper">
      <aside class="sidebar plus">
  <div class="container">
    <div class="sidebar-about">
      <a class="github-fork-ribbon left-top" href="https://github.com/monix/monix"
        title="Fork me on GitHub">Fork me on GitHub</a>

      <h1>
        <a href="/">
          <img src="/public/images/monix-logo.png"
            alt="Monix Logo" title="Monix" class="logo" />
        </a>
      </h1>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">About</a>
      <a class="sidebar-nav-item active" href="/blog/">Blog</a>
      <a class="sidebar-nav-item" href="/docs/current/">Documentation</a>
      <a class="sidebar-nav-item" href="/presentations/">Presentations</a>
      <a class="sidebar-nav-item" href="/social.html">Follow @Monix</a>
      <a class="sidebar-nav-item" href="/privacy.html">Privacy Policy</a>
    </nav>
  </div>
</aside>


      <article class="content container">
        <div class="post">
  <a name="start"></a>
      <h1 class="post-title">
        
        
          Monix: Version 3.0.0-RC4
        
        
      </h1>

  <time class="post-date" itemprop="dateCreated"
    datetime="2019-08-25">
    25 Aug 2019
    • <a href="https://twitter.com/monix">@monix</a>
  </time>

  <nav role="navigation" id="toc">
    <ul>
  <li><a href="#upgrading">Upgrading</a></li>
  <li><a href="#changes">Changes</a>
    <ul>
      <li><a href="#sub-project-monix-execution">Sub-project: monix-execution</a></li>
      <li><a href="#sub-project-monix-eval">Sub-project: monix-eval</a></li>
      <li><a href="#sub-project-monix-reactive">Sub-project: monix-reactive</a></li>
      <li><a href="#sub-project-monix-tail">Sub-project: monix-tail</a></li>
      <li><a href="#chores">Chores</a></li>
      <li><a href="#thanks">Thanks</a></li>
    </ul>
  </li>
</ul>

  </nav>

  <p>Last release before <code class="language-plaintext highlighter-rouge">3.0.0</code> which will be released as soon as Cats-Effect 2.0.0 is available. At the time of writing release notes,
it is only waiting on Cats 2.0.0 which is about to release next RC which will become stable version if no critical issues are discovered.</p>

<p>Any other development for this release is now frozen except if we discover critical bugs like memory leaks. All other changes will target <code class="language-plaintext highlighter-rouge">3.1.0</code>.</p>

<p><code class="language-plaintext highlighter-rouge">3.0.0</code> will be binary and source compatible with <code class="language-plaintext highlighter-rouge">3.0.0-RC4</code> for Scala 2.12. Monix itself will be also binary compatible
for 2.11 but it will have a dependency on Cats-Effect which is not. <a href="https://github.com/typelevel/cats-effect/releases/tag/v2.0.0-RC1">See Cats-Effect release notes</a> for more details.</p>

<p>We wish we could release <code class="language-plaintext highlighter-rouge">3.0.0</code> already but if we released now, we would have to release <code class="language-plaintext highlighter-rouge">4.0.0</code> for Cats-Effect 2.0 because of 2.11 incompatibility there so we decided to hold on. 
It was a rough road but currently we have multiple active maintainers that can do releases going forward, instead of just Alex so we hope it can give you a confidence for the future! :)
Note that Cats-Effect 2.0 is very small release and mostly targeted at support for Scala 2.13 and bug fixes - the upgrade should be limited to bumping version without changing a single line of code.</p>

<p>This release depends on Cats-Effect 1.4.0 and Cats 1.6.1</p>

<p>This release is binary compatible with <code class="language-plaintext highlighter-rouge">3.0.0-RC3</code> on Scala 2.12.
On Scala 2.11 there is an incompatibility caused by introduction of <code class="language-plaintext highlighter-rouge">Scheduler.features</code>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>exclude[ReversedMissingMethodProblem]("monix.execution.Scheduler.features")
</code></pre></div></div>
    
      <h2 id="upgrading">
        
        
          Upgrading <a href="#upgrading" class="anchor">#</a>
        
        
      </h2>

<p>To use the new version, include this in your <code class="language-plaintext highlighter-rouge">build.sbt</code>:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">libraryDependencies</span> <span class="o">+=</span> <span class="s">"io.monix"</span> <span class="o">%%</span> <span class="s">"monix"</span> <span class="o">%</span> <span class="s">"3.0.0-RC4"</span>
</code></pre></div></div>

<!--more-->
    
      <h2 id="changes">
        
        
          Changes <a href="#changes" class="anchor">#</a>
        
        
      </h2>
    
      <h4 id="local">
        
        
          Local <a href="#local" class="anchor">#</a>
        
        
      </h4>

<p>There are several fixes related to <code class="language-plaintext highlighter-rouge">Local</code> usage.</p>
<ul>
  <li>Using <code class="language-plaintext highlighter-rouge">TracingScheduler</code> will also automatically enable local context propagation in <code class="language-plaintext highlighter-rouge">Task</code> so
running it with <code class="language-plaintext highlighter-rouge">runToFutureOpt</code> or setting env variable is no longer a necessity.</li>
  <li><code class="language-plaintext highlighter-rouge">Local.isolate</code> has a overload for isolating <code class="language-plaintext highlighter-rouge">Future</code> which is safer than regular <code class="language-plaintext highlighter-rouge">Local.isolate</code>.</li>
</ul>

<p>The <code class="language-plaintext highlighter-rouge">Local</code> model since <code class="language-plaintext highlighter-rouge">3.0.0-RC3</code> shares by default. To isolate modifications of <code class="language-plaintext highlighter-rouge">Local</code> by
other concurrently running <code class="language-plaintext highlighter-rouge">Future</code>, you have to call <code class="language-plaintext highlighter-rouge">Local.isolate</code>.</p>

<p>In case of <code class="language-plaintext highlighter-rouge">Task</code>, there is a <code class="language-plaintext highlighter-rouge">TaskLocal.isolate</code> version. It is automatically called whenever you run <code class="language-plaintext highlighter-rouge">Task</code>
so if your use case is setting <code class="language-plaintext highlighter-rouge">correlationId</code> or similar, it probably won’t require any explicit isolation because
your HTTP library will most likely run the <code class="language-plaintext highlighter-rouge">Task</code> per request.</p>
    
      <h4 id="task-builders">
        
        
          Task Builders <a href="#task-builders" class="anchor">#</a>
        
        
      </h4>

<p>There are two major improvements:</p>
<ul>
  <li>Now all <code class="language-plaintext highlighter-rouge">Task</code> builders (<code class="language-plaintext highlighter-rouge">Task.create</code>, <code class="language-plaintext highlighter-rouge">Task.async</code>, <code class="language-plaintext highlighter-rouge">Task.fromFuture</code> etc.) will return a <code class="language-plaintext highlighter-rouge">Task</code> that continues on default <code class="language-plaintext highlighter-rouge">Scheduler</code> which is
the one supplied during execution unless overriden by <code class="language-plaintext highlighter-rouge">executeOn</code>.</li>
  <li>Callback in <code class="language-plaintext highlighter-rouge">Task.create</code> is now thread-safe against contract violation (calling it more than once) so does not require synchronization on the user side.</li>
</ul>
    
      <h3 id="sub-project-monix-execution">
        
        
          Sub-project: monix-execution <a href="#sub-project-monix-execution" class="anchor">#</a>
        
        
      </h3>

<ul>
  <li>
    <p><a href="https://github.com/monix/monix/pull/946">PR #946</a>: Expose less implementation details in Local</p>
  </li>
  <li>
    <p><a href="https://github.com/monix/monix/pull/948">PR #948</a>: Make Task.memoize play well with Local</p>
  </li>
  <li>
    <p><a href="https://github.com/monix/monix/pull/953">PR #953</a>: Make default scheduler remove cancelled tasks</p>
  </li>
  <li>
    <p><a href="https://github.com/monix/monix/pull/960">PR #960</a>: Scheduler.features</p>
  </li>
  <li>
    <p><a href="https://github.com/monix/monix/pull/971">PR #971</a>: Callback tryOnSuccess/tryOnFailure</p>
  </li>
  <li>
    <p><a href="https://github.com/monix/monix/pull/973">PR #973</a>: Fix Local.isolate corner case</p>
  </li>
  <li>
    <p><a href="https://github.com/monix/monix/pull/977">PR #977</a>: Use type classes instead of overloads in Local.isolate/bind</p>
  </li>
</ul>
    
      <h3 id="sub-project-monix-eval">
        
        
          Sub-project: monix-eval <a href="#sub-project-monix-eval" class="anchor">#</a>
        
        
      </h3>

<ul>
  <li>
    <p><a href="https://github.com/monix/monix/pull/913">PR #913</a>: Optimize Task.guarantee</p>
  </li>
  <li>
    <p><a href="https://github.com/monix/monix/pull/921">PR #921</a> &amp; <a href="https://github.com/monix/monix/pull/917">PR #917</a>: Callbacks in Task.create are now thread-safe and 
always return to the main Scheduler.</p>
  </li>
  <li>
    <p><a href="https://github.com/monix/monix/pull/933">PR #933</a>: Adds » syntax to Task</p>
  </li>
  <li>
    <p><a href="https://github.com/monix/monix/pull/935">PR #935</a>: Adds » syntax to Coeval</p>
  </li>
  <li>
    <p><a href="https://github.com/monix/monix/pull/934">PR #934</a>: Implement doOnFinish in terms of guaranteeCase</p>
  </li>
  <li>
    <p><a href="https://github.com/monix/monix/pull/951">PR #951</a>: Add void to Task + Coeval</p>
  </li>
  <li>
    <p><a href="https://github.com/monix/monix/pull/952">PR #952</a>: Implement ContextShift.evalOn in terms of Task.executeOn</p>
  </li>
  <li>
    <p><a href="https://github.com/monix/monix/pull/954">PR #954</a>: Add gatherN + wanderN</p>
  </li>
  <li>
    <p><a href="https://github.com/monix/monix/pull/972">PR #972</a>: Rename <code class="language-plaintext highlighter-rouge">Task.forkAndForget</code> to <code class="language-plaintext highlighter-rouge">Task.startAndForget</code></p>
  </li>
</ul>
    
      <h3 id="sub-project-monix-reactive">
        
        
          Sub-project: monix-reactive <a href="#sub-project-monix-reactive" class="anchor">#</a>
        
        
      </h3>

<ul>
  <li>
    <p><a href="https://github.com/monix/monix/pull/906">PR #906</a>: Fix race in MapParallelOrderedObservable</p>
  </li>
  <li>
    <p><a href="https://github.com/monix/monix/pull/918">PR #918</a>: switchMap should wait for last child to complete</p>
  </li>
  <li>
    <p><a href="https://github.com/monix/monix/pull/919">PR #919</a>: propagate cancellation to tasks in async Consumers</p>
  </li>
  <li>
    <p><a href="https://github.com/monix/monix/pull/932">PR #932</a>: Remove try-catch for EvalOnceObservable implementation</p>
  </li>
  <li>
    <p><a href="https://github.com/monix/monix/pull/941">PR #941</a>: Added some polymorphic methods for Observable</p>
  </li>
  <li>
    <p><a href="https://github.com/monix/monix/pull/945">PR #945</a>: Add collectWhile observable</p>
  </li>
  <li>
    <p><a href="https://github.com/monix/monix/pull/958">PR #958</a>: Add Observable.throttle</p>
  </li>
  <li>
    <p><a href="https://github.com/monix/monix/pull/963">PR #963</a>: Added fromAsyncStateActionF</p>
  </li>
  <li>
    <p><a href="https://github.com/monix/monix/pull/970">PR #970</a>: Observable.unfold</p>
  </li>
  <li>
    <p><a href="https://github.com/monix/monix/pull/989">PR #989</a>: Observable.unfoldEval and Observable.unfoldEvalF</p>
  </li>
</ul>
    
      <h3 id="sub-project-monix-tail">
        
        
          Sub-project: monix-tail <a href="#sub-project-monix-tail" class="anchor">#</a>
        
        
      </h3>

<ul>
  <li><a href="https://github.com/monix/monix/pull/965">PR #965</a>: fixes resource handling in Iterant.repeat, adds Iterant.retryIfEmpty</li>
</ul>
    
      <h3 id="chores">
        
        
          Chores <a href="#chores" class="anchor">#</a>
        
        
      </h3>

<ul>
  <li>
    <p><a href="https://github.com/monix/monix/pull/936">PR #936</a>: Add defaults values for benchmarking</p>
  </li>
  <li>
    <p>Tons of updates by https://github.com/fthomas/scala-steward</p>
  </li>
</ul>
    
      <h3 id="thanks">
        
        
          Thanks <a href="#thanks" class="anchor">#</a>
        
        
      </h3>

<p>People that made this release possible, in alphabetical order:</p>

<ul>
  <li>Alexandru Nedelcu (@alexandru)</li>
  <li>Allan Timothy Leong (@allantl)</li>
  <li>BambooTuna (@BambooTuna)</li>
  <li>Carlo (@entangled90)</li>
  <li>Oleg Pyzhcov (@oleg-py)</li>
  <li>Paul K (@pk044)</li>
  <li>Piotr Gawryś (@Avasil)</li>
  <li>Rahil Bohra (@rahilb)</li>
  <li>Richard Tarczaly (@arlequin-nyc)</li>
  <li>Ryo Fukumuro (@rfkm)</li>
  <li>TapanVaishnav (@TapanVaishnav)</li>
  <li>Valentin Willscher (@valenterry)</li>
</ul>


  <div class="related">
    
      <h2>
        
        
          Related Posts
        
        
      </h2>
    <ul class="related-posts">
      
        <li>
            <a href="/blog/2020/06/04/monix-v3.2.2.html">
              Monix 3.2.2
              <small>04 Jun 2020</small>
            </a>
        </li>
      
        <li>
            <a href="/blog/2020/04/30/monix-v3.2.1.html">
              Monix 3.2.1
              <small>30 Apr 2020</small>
            </a>
        </li>
      
        <li>
            <a href="/blog/2020/04/26/monix-v3.2.0.html">
              Monix 3.2.0
              <small>26 Apr 2020</small>
            </a>
        </li>
      
    </ul>
  </div>

  <div class="buttons">
    <a href="https://github.com/monix/monix.io/blob/master/_posts/2019-08-25-monix-v3.0.0-RC4.md">
      Edit Page</a> •
    <a href="https://twitter.com/monix">
      Follow @monix</a>
  </div>  

  
<div id="contributions">
    
      <h2 id="comments">
        
        
          Comments <a href="#comments" class="anchor">#</a>
        
        
      </h3>

  <script>
    document.write(
      '<div class="contributions-note">Be nice!<br><span class="contributions-note-extra">If you don\'t see the commenting widget, it might be blocked (see this <a href="https://github.com/utterance/utterances/issues/341" target="_blank">Privacy Badger issue</a>).</span></div>'
    );
  </script>
  <script
    src="https://utteranc.es/client.js"
    repo="monix/monix.io"
    issue-term="pathname"
    label="discussion"
    theme="github-light"
    crossorigin="anonymous"
    async
  ></script>
  <noscript>
    <div class="contributions-note">
      <strong>Enable JavaScript to see comments!</strong>
      <br />
      <span class="contributions-note-extra">
        Commenting widget is powered by GitHub's API and
        <a href="https://utteranc.es" target="_blank">utteranc.es</a>. This
        website does not track visitors or log personally identifiable
        information, see our
        <a href="/privacy.html">privacy policy</a>.
      </span>
    </div>
  </noscript>
</div>

</div>
      </article>
    </div>
    <script type="text/javascript">
  var _paq = window._paq || [];
  // Disabling cookies for privacy reasons
  _paq.push(['disableCookies']);
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="https://ly.monix.io/";
    _paq.push(['setTrackerUrl', u+'m.php']);
    _paq.push(['setSiteId', '2']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'m.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<noscript>
  
  <img src="https://ly.monix.io/m.php?idsite=2&rec=1&action_name=Monix%3A+Version+3.0.0-RC4" style="border:0" alt="" />
</noscript>


  </body>
</html>
